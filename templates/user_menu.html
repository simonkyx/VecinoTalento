{% extends "base.html" %}

{% block content %}
<div class="container mt-4">

    <h2 class="text-primary">ğŸ¡ MenÃº Principal - Vecino</h2>

    <p class="mb-4">Hola, <strong>{{ user.nombre }}</strong> (ID: {{ user.id }}) | Rol: <strong>{{ user.rol }}</strong></p>

    {% if user.estado != 'aprobado' %}
        <div class="alert alert-warning" role="alert">
            ğŸš¨ Tu cuenta estÃ¡ en estado: <strong>{{ user.estado | upper }}</strong>. No podrÃ¡s publicar contenido hasta que seas aprobado por el administrador.
        </div>
    {% endif %}

    <hr>

    <h3>1. Publicar Contenido</h3>

    {% set disabled = 'disabled' if user.estado != 'aprobado' else '' %}
    {% set disabled_class = 'disabled' if user.estado != 'aprobado' else '' %}

    <div class="d-flex flex-wrap gap-2 mb-4">
        {# CORRECCIÃ“N: Eliminado 'publications.' #}
        <a href="{{ url_for('publish', tipo='oferta') }}" 
            class="btn btn-primary {{ disabled_class }}">
            1. ğŸ’¼ Publicar Oficio/Servicio
        </a>

        {# CORRECCIÃ“N: Eliminado 'publications.' #}
        <a href="{{ url_for('publish', tipo='emprendimiento') }}" 
            class="btn btn-primary {{ disabled_class }}">
            2. ğŸ›’ Publicar Emprendimiento
        </a>

        {# CORRECCIÃ“N: Eliminado 'publications.' #}
        <a href="{{ url_for('publish', tipo='aviso') }}" 
            class="btn btn-primary {{ disabled_class }}">
            3. ğŸ“¢ Publicar Aviso Comunitario
        </a>
    </div>

    <hr>

    <h3>2. Ver y Buscar Contenido (Solo publicaciones aprobadas)</h3>

    <div class="d-flex flex-wrap gap-2 mb-4">
        {# CORRECCIÃ“N: Eliminado 'publications.' #}
        <a href="{{ url_for('view_content', tipo='oferta') }}" class="btn btn-success">
            4. ğŸ” Ver/Buscar Ofertas de Servicio
        </a>

        {# CORRECCIÃ“N: Eliminado 'publications.' #}
        <a href="{{ url_for('view_content', tipo='emprendimiento') }}" class="btn btn-success">
            5. ğŸ˜ï¸ Ver Emprendimientos
        </a>

        {# CORRECCIÃ“N: Eliminado 'publications.' #}
        <a href="{{ url_for('view_content', tipo='aviso') }}" class="btn btn-success">
            6. ğŸ“£ Ver Avisos Comunitarios
        </a>
    </div>

</div>
{% endblock %}